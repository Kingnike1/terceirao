<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calend√°rio de Eventos dos Terceiros 2K25</title>
    <link rel="stylesheet" href="../Templates/link.html" />
    <link rel="stylesheet" href="./css/ti.css" />
    <!-- FullCalendar CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/fullcalendar.min.css"
      rel="stylesheet"
    />

    <!-- jQuery (necess√°rio para o FullCalendar) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Moment.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

    <!-- FullCalendar JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.2.0/fullcalendar.min.js"></script>
  </head>

  <body>
    <!-- Header -->
    <div class="header">
      <header>
        <img
          src="../ti.jpg"
          alt="Logo dos Terceiros de Inform√°tica 2K25"
          class="logo"
        />

        <!-- Contador Regressivo -->
        <div class="countdown-container">
          <div class="time-box">
            <span class="number" id="days">00</span>
            <span class="label">Dias</span>
          </div>
          <div class="time-box">
            <span class="number" id="hours">00</span>
            <span class="label">Horas</span>
          </div>
          <div class="time-box">
            <span class="number" id="minutes">00</span>
            <span class="label">Minutos</span>
          </div>
          <div class="time-box">
            <span class="number" id="seconds">00</span>
            <span class="label">Segundos</span>
          </div>
        </div>

        <!-- Bot√£o do menu hamb√∫rguer -->
        <div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>

        <nav class="nav-menu">
          <ul id="myLinks">
            <li><div id="claroEscuro"></div></li>
            <li><a href="#eventos" class="custom-btn btn-3">Eventos</a></li>
            <li><a href="#sobre" class="custom-btn btn-3">Sobre N√≥s</a></li>
            <li><a href="#contato" class="custom-btn btn-3">Contato</a></li>
          </ul>
        </nav>
      </header>

      <div class="progress-container">
        <div class="progress-bar" id="myBar"></div>
      </div>
    </div>

    <!-- Main Content -->
    <main>
      <!-- Button to Scroll to Top -->
      <button onclick="topFunction()" id="myBtn" title="Go to top">üîù</button>

      <!-- About Section -->
      <section id="sobre">
        <h2>Sobre N√≥s</h2>
        <button onclick="typeWriter()" id="typeWriter">Clique aqui</button>
        <p class="event-message" id="demo"></p>
      </section>

      <!-- Events Section -->
      <h2 id="eventos">Calend√°rio de Eventos dos Terceiros 2K25</h2>
      <!-- Bot√£o para alternar entre Modo Lista e Modo Calend√°rio -->
      <!-- Bot√£o para alternar para o modo lista (somente em smartphones) -->
      <button
        id="toggleListView"
        style="display: none"
        onclick="toggleCalendarView()"
      >
        üìã Modo Lista
      </button>

      <!-- Calend√°rio -->
      <div id="calendar"></div>

      <!-- Se√ß√£o de Contato -->
      <section class="contact-section">
        <h2 id="contato">Contato</h2>
        <p>Entre em contato conosco pelas redes sociais:</p>

        <div class="social-buttons">
          <!-- Bot√£o Instagram -->
          <a
            href="https://www.instagram.com/ti.2k25"
            target="_blank"
            class="social-button instagram"
          >
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"
              alt="Instagram"
              class="social-logo"
            />
            <span>Instagram</span>
          </a>

          <!-- Bot√£o TikTok -->
          <a
            href="https://www.tiktok.com/@ti.2k25"
            target="_blank"
            class="social-button tiktok"
          >
            <img src="../tik-tok.png" alt="TikTok" class="social-logo" />
            <span>TikTok</span>
          </a>
        </div>
      </section>
    </main>

    <!-- Scripts -->
    <script src="./js/ti.js"></script>
    <script>
      $(document).ready(function () {
        // Fun√ß√£o para definir a melhor vis√£o do calend√°rio (M√™s ou Lista)
        function getCalendarView() {
          return window.innerWidth < 768 ? 'listWeek' : 'month'
        }

        // Inicializa o FullCalendar
        $('#calendar').fullCalendar({
          defaultView: getCalendarView(),
          events: [
            {
              title: 'Trote da Fantasia',
              start: '2025-02-24',
              description: 'Evento de recep√ß√£o dos calouros com fantasia.',
              imageUrl: './img/segunda.jpg',
              color: '#1abc9c',
            },
            {
              title: 'Dia do Pijama',
              start: '2025-02-25',
              description: 'Dia tem√°tico com todos usando pijamas.',
              imageUrl: './img/terca.jpg',
              color: '#f39c12',
            },
            {
              title: 'Gincana dos Terceiros',
              start: '2025-02-26',
              description: 'Gincana organizada pelos terceiros de Inform√°tica.',
              imageUrl: './img/quarta.jpg',
              color: '#3498db',
            },
            {
              title: 'Festa Junina',
              start: '2025-02-27',
              description: 'Festa junina tradicional.',
              imageUrl: './img/quinta.jpg',
              color: '#e74c3c',
            },
            {
              title: 'Calourada',
              start: '2025-02-28',
              description: 'Grande festa para os calouros.',
              imageUrl: './img/sexta.jpg',
              color: '#9b59b6',
            },
          ],
          header: {
            left: 'prev,next today',
            center: 'title',
            right:
              window.innerWidth < 768
                ? 'listWeek'
                : 'month,agendaWeek,agendaDay',
          },
          eventRender: function (event, element) {
            if (event.imageUrl) {
              element.html(
                '<img src="' +
                  event.imageUrl +
                  '" alt="' +
                  event.title +
                  '" style="width:100%; border-radius: 5px;">'
              )
            }
          },
        })

        // Atualiza a visualiza√ß√£o ao redimensionar a tela
        $(window).resize(function () {
          $('#calendar').fullCalendar('changeView', getCalendarView())
        })

        // Alterna entre os modos M√™s e Lista manualmente
        $('#toggleView').on('click', function () {
          var currentView = $('#calendar').fullCalendar('getView').name
          var newView = currentView === 'month' ? 'listWeek' : 'month'

          $('#calendar').fullCalendar('changeView', newView)
          $(this).text(newView === 'month' ? 'Modo Lista' : 'Modo Calend√°rio')
        })
      })
      $(document).ready(function () {
        // Detecta se o usu√°rio est√° em um smartphone
        function isMobileDevice() {
          return /Mobi|Android|iPhone/i.test(navigator.userAgent)
        }

        // Se for um smartphone, mostra o bot√£o
        if (isMobileDevice()) {
          document.getElementById('toggleListView').style.display = 'block'
        }

        // Fun√ß√£o para alternar entre calend√°rio normal e lista
        window.toggleCalendarView = function () {
          var calendar = $('#calendar')

          if (calendar.hasClass('list-view')) {
            // Voltar ao modo calend√°rio
            calendar.fullCalendar('changeView', 'month')
            calendar.removeClass('list-view')
          } else {
            // Mudar para modo lista (agenda)
            calendar.fullCalendar('changeView', 'agendaListWeek')
            calendar.addClass('list-view')
          }
        }
      })
    </script>
  </body>
</html>
